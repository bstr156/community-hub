(window.webpackJsonp=window.webpackJsonp||[]).push([[176],{790:function(e,s,t){"use strict";t.r(s);var a=t(2),n=Object(a.a)({},(function(){var e=this,s=e._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("p",[e._v("If you're looking to build an app on Optimism you'll need access to an Optimism node. You have two options - use a hosted node from providers like Alchemy or run your own.")]),e._v(" "),s("h2",{attrs:{id:"hosted-node-providers"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hosted-node-providers"}},[e._v("#")]),e._v(" Hosted node providers")]),e._v(" "),s("p",[e._v("You can get a free, hosted one from "),s("RouterLink",{attrs:{to:"/docs/useful-tools/providers.html"}},[e._v("any of these providers")]),e._v(" to get up and building quickly. Of them, "),s("a",{attrs:{href:"https://www.alchemy.com/optimism",target:"_blank",rel:"noopener noreferrer"}},[e._v("Alchemy"),s("OutboundLink")],1),e._v(" is our preferred node provider, and is used to power our "),s("RouterLink",{attrs:{to:"/docs/useful-tools/networks.html"}},[e._v("public endpoint")]),e._v(".")],1),e._v(" "),s("p",[e._v("However, you might be interested in running your very own Optimism node.\nHere we'll go over the process of running a testnet or mainnet Optimism node for yourself.")]),e._v(" "),s("h2",{attrs:{id:"upgrades"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#upgrades"}},[e._v("#")]),e._v(" Upgrades")]),e._v(" "),s("p",[e._v("If you run a node you need to subscribe to "),s("RouterLink",{attrs:{to:"/docs/rollux-developers/releases.html"}},[e._v("an update feed")]),e._v(" (either "),s("a",{attrs:{href:"https://groups.google.com/a/optimism.io/g/optimism-announce",target:"_blank",rel:"noopener noreferrer"}},[e._v("the mailing list"),s("OutboundLink")],1),e._v(" or "),s("a",{attrs:{href:"https://changelog.optimism.io/feed.xml",target:"_blank",rel:"noopener noreferrer"}},[e._v("the RSS feed"),s("OutboundLink")],1),e._v(") to know when to upgrade.\nOtherwise, your node will eventually stop working.")],1),e._v(" "),s("h2",{attrs:{id:"configuration-choices"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configuration-choices"}},[e._v("#")]),e._v(" Configuration choices")]),e._v(" "),s("h3",{attrs:{id:"hardware-requirements"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hardware-requirements"}},[e._v("#")]),e._v(" Hardware requirements")]),e._v(" "),s("p",[e._v("Replicas need to store the transaction history of Optimism and to run Geth.\nThey need to be relatively powerful machines (real or virtual).\nWe recommend at least 16 GB RAM, and an SSD drive with at least 100 GB free.")]),e._v(" "),s("h3",{attrs:{id:"source-of-synchronization"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#source-of-synchronization"}},[e._v("#")]),e._v(" Source of synchronization")]),e._v(" "),s("details",[s("summary",[s("b",[e._v("Pre-Bedrock (current version)")])]),e._v(" "),s("p",[e._v("Prior to Bedrock you choose one of two configurations.")]),e._v(" "),s("ul",[s("li",[s("p",[s("strong",[e._v("Replicas")]),e._v(" replicate from L2 (Optimism).\nReplicas gives you the most up to date information, at the cost of having to trust Optimism's updates.")])]),e._v(" "),s("li",[s("p",[s("strong",[e._v("Verifiers")]),e._v(" replicate from L1 (Ethereum).\nVerifiers read and execute transactions from the cannonical block chain.\nAs a result, the only way for them to have inaccurate information is an "),s("a",{attrs:{href:"https://www.paradigm.xyz/2021/07/ethereum-reorgs-after-the-merge#post-merge-ethereum-with-proof-of-stake",target:"_blank",rel:"noopener noreferrer"}},[e._v("Ethereum reorg"),s("OutboundLink")],1),e._v(", an extremely rare event.")])])])]),e._v(" "),s("details",[s("summary",[s("b",[e._v("Bedrock (coming late 2022)")])]),e._v(" "),s("p",[e._v("In Bedrock the "),s("a",{attrs:{href:"https://community.optimism.io/docs/developers/bedrock-temp/infra/#bedrock-geth",target:"_blank",rel:"noopener noreferrer"}},[e._v("op-geth"),s("OutboundLink")],1),e._v(" typically synchronizes from other Optimism nodes (https://github.com/ethereum-optimism/optimism/blob/develop/specs/exec-engine.md#happy-path-sync), meaning L2, but it can "),s("a",{attrs:{href:"https://github.com/ethereum-optimism/optimism/blob/develop/specs/exec-engine.md#worst-case-sync",target:"_blank",rel:"noopener noreferrer"}},[e._v("synchronize from L1"),s("OutboundLink")],1),e._v(" if necessary.")]),e._v(" "),s("p",[e._v("To synchronize only from L1, you edit the "),s("a",{attrs:{href:"https://github.com/ethereum-optimism/optimism/blob/develop/specs/rollup-node.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("op-node configuration"),s("OutboundLink")],1),e._v(" to set "),s("code",[e._v("OP_NODE_P2P_DISABLE")]),e._v(" to "),s("code",[e._v("true")]),e._v(".")]),e._v(" "),s("p",[e._v("When you use RPC to get block information (https://github.com/ethereum-optimism/optimism/blob/develop/specs/rollup-node.md#l2-output-rpc-method), you can specify one of four options for "),s("code",[e._v("blockNumber")]),e._v(":")]),e._v(" "),s("ul",[s("li",[e._v("an actual block number")]),e._v(" "),s("li",[s("strong",[e._v("pending")]),e._v(": Latest L2 block")]),e._v(" "),s("li",[s("strong",[e._v("latest")]),e._v(": Latest block written to L1")]),e._v(" "),s("li",[s("strong",[e._v("finalized")]),e._v(": Latest block fully finalized on L1 (a process that takes 12 minutes with Proof of Stake)")])])]),e._v(" "),s("h2",{attrs:{id:"docker-configuration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-configuration"}},[e._v("#")]),e._v(" Docker configuration")]),e._v(" "),s("p",[e._v("The recommended method to create a replica is to use "),s("a",{attrs:{href:"https://www.docker.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Docker"),s("OutboundLink")],1),e._v(" and the "),s("a",{attrs:{href:"https://hub.docker.com/u/ethereumoptimism",target:"_blank",rel:"noopener noreferrer"}},[e._v("Docker images we provide"),s("OutboundLink")],1),e._v(".\nThey include all the configuration settings.\nThis is the recommended method because it is what we for our own systems.\nAs such, the docker images go through a lot more tests than any other configuration.")]),e._v(" "),s("h3",{attrs:{id:"configuring-and-running-the-node"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configuring-and-running-the-node"}},[e._v("#")]),e._v(" Configuring and running the node")]),e._v(" "),s("p",[e._v("Follow "),s("a",{attrs:{href:"https://github.com/smartcontracts/simple-optimism-node",target:"_blank",rel:"noopener noreferrer"}},[e._v("these instructions"),s("OutboundLink")],1),e._v(" to build and run the node.")]),e._v(" "),s("h2",{attrs:{id:"non-docker-configuration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#non-docker-configuration"}},[e._v("#")]),e._v(" Non-docker configuration")]),e._v(" "),s("p",[e._v("Here are the instructions if you want to build you own replica without relying on our images.\nThese instructions were generated with a "),s("a",{attrs:{href:"https://cloud.google.com/compute/docs/general-purpose-machines#e2-standard",target:"_blank",rel:"noopener noreferrer"}},[e._v("GCP e2-standard-4"),s("OutboundLink")],1),e._v(" virtual machine running "),s("a",{attrs:{href:"https://www.debian.org/News/2021/2021100902",target:"_blank",rel:"noopener noreferrer"}},[e._v("Debian 10"),s("OutboundLink")],1),e._v(" with a 100 GB SSD drive.\nThey should work on different operating systems with minor changes, but there are no guarantees.")]),e._v(" "),s("p",[e._v("Note that these directions are for a replica of the main network.\nYou need to modify some of them if you want to create a replica of the test network.")]),e._v(" "),s("p",[s("strong",[e._v("Note:")]),e._v(" This is "),s("em",[e._v("not")]),e._v(" the recommended configuration.\nWhile we did QA on these instructions and they work, the QA that the docker images undergo is much more extensive.")]),e._v(" "),s("h3",{attrs:{id:"install-packages"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#install-packages"}},[e._v("#")]),e._v(" Install packages")]),e._v(" "),s("ol",[s("li",[s("p",[e._v("These packages are all required either to compile the software or to run it.\nWe need "),s("code",[e._v("libusb-1.0")]),e._v(" because geth requires it to check for hardware wallets.")]),e._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("apt")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-y")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("make")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" gcc pkg-config libusb-1.0 jq\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])])]),e._v(" "),s("li",[s("p",[e._v("Install "),s("a",{attrs:{href:"https://nodejs.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("the node.js package"),s("OutboundLink")],1),e._v(".\nThese instructions were written using the 12.x version.")])]),e._v(" "),s("li",[s("p",[e._v("Install "),s("a",{attrs:{href:"https://classic.yarnpkg.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("yarn"),s("OutboundLink")],1),e._v(":")]),e._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-g")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" \n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])])]),e._v(" "),s("li",[s("p",[e._v("Install "),s("a",{attrs:{href:"https://go.dev/doc/install",target:"_blank",rel:"noopener noreferrer"}},[e._v("the Go programming language"),s("OutboundLink")],1),e._v(".\nThese instructions were written using Go version 1.17.6")])])]),e._v(" "),s("h3",{attrs:{id:"the-data-transport-layer-dtl"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#the-data-transport-layer-dtl"}},[e._v("#")]),e._v(" The Data Transport Layer (DTL)")]),e._v(" "),s("p",[e._v("This TypeScript program reads data from an Optimism endpoint and passes it over to the local instance of l2geth ("),s("a",{attrs:{href:"https://geth.ethereum.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("geth"),s("OutboundLink")],1),e._v(" with minor changes for layer 2 support).")]),e._v(" "),s("ol",[s("li",[s("p",[e._v("Download "),s("a",{attrs:{href:"https://github.com/ethereum-optimism/optimism",target:"_blank",rel:"noopener noreferrer"}},[e._v("the source code"),s("OutboundLink")],1),e._v(".\nThen, compile the DTL:")]),e._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" clone "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" master https://github.com/ethereum-optimism/optimism.git     \n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" optimism\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" build\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" ~/optimism/packages/data-transport-layer\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" .env.example .env\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br")])])]),e._v(" "),s("li",[s("p",[e._v("Edit "),s("code",[e._v(".env")]),e._v(" to specify your own configuration.\nModify these parameters:")]),e._v(" "),s("table",[s("thead",[s("tr",[s("th",[e._v("Parameter")]),e._v(" "),s("th",[e._v("Value")])])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("DATA_TRANSPORT_LAYER__NODE_ENV")]),e._v(" "),s("td",[e._v("production")])]),e._v(" "),s("tr",[s("td",[e._v("DATA_TRANSPORT_LAYER__ETH_NETWORK_NAME")]),e._v(" "),s("td",[e._v("mainnet")])]),e._v(" "),s("tr",[s("td",[e._v("DATA_TRANSPORT_LAYER__ADDRESS_MANAGER")]),e._v(" "),s("td",[e._v("0xdE1FCfB0851916CA5101820A69b13a4E276bd81F")])]),e._v(" "),s("tr",[s("td",[e._v("DATA_TRANSPORT_LAYER__SERVER_HOSTNAME")]),e._v(" "),s("td",[e._v("localhost")])]),e._v(" "),s("tr",[s("td",[e._v("DATA_TRANSPORT_LAYER__SERVER_PORT")]),e._v(" "),s("td",[e._v("7878")])]),e._v(" "),s("tr",[s("td",[e._v("DATA_TRANSPORT_LAYER__SYNC_FROM_L1")]),e._v(" "),s("td",[e._v("false")])]),e._v(" "),s("tr",[s("td",[e._v("DATA_TRANSPORT_LAYER__L1_RPC_ENDPOINT")]),e._v(" "),s("td",[e._v("Get an endpoint from "),s("a",{attrs:{href:"https://ethereum.org/en/developers/docs/nodes-and-clients/nodes-as-a-service/",target:"_blank",rel:"noopener noreferrer"}},[e._v("a service provider"),s("OutboundLink")],1),e._v(" unless you run a node yourself")])]),e._v(" "),s("tr",[s("td",[e._v("DATA_TRANSPORT_LAYER__SYNC_FROM_L2")]),e._v(" "),s("td",[e._v("true")])]),e._v(" "),s("tr",[s("td",[e._v("DATA_TRANSPORT_LAYER__L2_RPC_ENDPOINT")]),e._v(" "),s("td",[s("RouterLink",{attrs:{to:"/docs/useful-tools/networks/"}},[e._v("See here")])],1)]),e._v(" "),s("tr",[s("td",[e._v("DATA_TRANSPORT_LAYER__L2_CHAIN_ID")]),e._v(" "),s("td",[e._v("10 (for a mainnet replica)")])])])]),e._v(" "),s("p",[e._v("These directions are written with the assumption that you sync from L2, which is faster.\nIf you prefer, you can syncronize from L1, which is more secure but slower.\nTo use L1, keep the value of "),s("code",[e._v("DATA_TRANSPORT_LAYER__SYNC_FROM_L1")]),e._v(" as "),s("code",[e._v("true")]),e._v(" and\n"),s("code",[e._v("DATA_TRANSPORT_LAYER__SYNC_FROM_L2")]),e._v(" as "),s("code",[e._v("false")]),e._v(". Also, add this line:")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("DATA_TRANSPORT_LAYER__L1_START_HEIGHT=13596466\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])])]),e._v(" "),s("li",[s("p",[e._v("Start the DTL (as a daemon, logging to "),s("code",[e._v("~/dtl.log")]),e._v("):")]),e._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("nohup")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" start "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" ~/dtl.log "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("Note that you cannot just close the window if you want DTL to continue running, you have to exit the shell gracefully.")])]),e._v(" "),s("li",[s("p",[e._v("To verify the DTL is running correctly you can run a command.")]),e._v(" "),s("ul",[s("li",[s("p",[e._v("If synchronizing from L2:")]),e._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-s")]),e._v(" http://localhost:7878/eth/syncing?backend"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("l2  "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" jq .currentTransactionIndex\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])])]),e._v(" "),s("li",[s("p",[e._v("If synchronizing from L1:")]),e._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-s")]),e._v(" http://localhost:7878/eth/syncing?backend"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("l1  "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" jq .currentTransactionIndex\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])])])]),e._v(" "),s("p",[e._v("It gives you the current transaction index, which should increase with time.")])]),e._v(" "),s("li",[s("p",[e._v("For debugging purposes, it is sometimes useful to get a transaction's information from the DTL:")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("curl -s http://localhost:7878/transaction/index/<transaction number>?backend=l2 | jq .transaction\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("Note that the transaction indexes are one below the number on etherscan, so for example")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("curl -s http://localhost:7878/transaction/index/31337?backend=l2 | jq .transaction\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("Corresponds to "),s("a",{attrs:{href:"https://explorer.optimism.io/tx/31338",target:"_blank",rel:"noopener noreferrer"}},[e._v("Etherscan transaction 31338"),s("OutboundLink")],1),e._v(".")])])]),e._v(" "),s("p",[e._v("The DTL now needs to download the entire transaction history since regenesis, a process that takes hours.\nWhile it is running, we can get started on the client software.")]),e._v(" "),s("h3",{attrs:{id:"the-optimism-client-software"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#the-optimism-client-software"}},[e._v("#")]),e._v(" The Optimism client software")]),e._v(" "),s("p",[e._v("The client software, called l2geth, is a minimally modified version of "),s("a",{attrs:{href:"https://geth.ethereum.org/",target:"_blank",rel:"noopener noreferrer"}},[s("code",[e._v("geth")]),s("OutboundLink")],1),e._v(".\nBecause "),s("code",[e._v("geth")]),e._v(" supports hardware wallets you might get USB errors. If you do, ignore them.")]),e._v(" "),s("p",[e._v("These directions use "),s("code",[e._v("~/gethData")]),e._v(" as the data directory.\nYou can replace it with you own directory as long as you are consistent.")]),e._v(" "),s("ol",[s("li",[s("p",[e._v("To compile l2geth, run:")]),e._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" ~/optimism/l2geth\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("make")]),e._v(" geth\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br")])])]),e._v(" "),s("li",[s("p",[e._v("Download and verify the genesis state, the state of the Optimism blockchain during the final regenesis, 11 November 2021.")]),e._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-O")]),e._v(" /tmp/genesis.json https://storage.googleapis.com/optimism/mainnet/genesis-berlin.json\nsha256sum /tmp/genesis.json\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br")])]),s("p",[e._v("The output of the "),s("code",[e._v("sha256sum")]),e._v(" command should be:")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("0x106b0a3247ca54714381b1109e82cc6b7e32fd79ae56fbcc2e7b1541122f84ea  /tmp/genesis.json\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])])]),e._v(" "),s("li",[s("p",[e._v("Create a file called "),s("code",[e._v("env.sh")]),e._v(" (in whatever directory is convenient) with this content:")]),e._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("CHAIN_ID")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("10")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("DATADIR")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=~")]),e._v("/gethData\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("NETWORK_ID")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("10")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("NO_DISCOVER")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("true\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("NO_USB")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("true\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("GASPRICE")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("GCMODE")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("archive\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("BLOCK_SIGNER_ADDRESS")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("0x00000398232E2064F896018496b4b44b3D62751F\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("BLOCK_SIGNER_PRIVATE_KEY")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("6587ae678cf4fc9a33000cdbf9f35226b71dcc6a4684a31203241f9bcfd55d27\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("ETH1_CTC_DEPLOYMENT_HEIGHT")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("13596466")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("ETH1_SYNC_SERVICE_ENABLE")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("true\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("ROLLUP_ADDRESS_MANAGER_OWNER_ADDRESS")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("0x9BA6e03D8B90dE867373Db8cF1A58d2F7F006b3A\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("ROLLUP_CLIENT_HTTP")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("http://localhost:7878\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("ROLLUP_DISABLE_TRANSFERS")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("false\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("ROLLUP_ENABLE_L2_GAS_POLLING")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("false\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("ROLLUP_GAS_PRICE_ORACLE_OWNER_ADDRESS")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("0x648E3e8101BFaB7bf5997Bd007Fb473786019159\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("ROLLUP_MAX_CALLDATA_SIZE")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("40000")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("ROLLUP_POLL_INTERVAL_FLAG")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("1s\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("ROLLUP_SYNC_SERVICE_ENABLE")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("true\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("ROLLUP_TIMESTAMP_REFRESH")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("5m\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("ROLLUP_VERIFIER_ENABLE")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("true\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("RPC_ADDR")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("0.0")]),e._v(".0.0\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("RPC_API")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("eth,rollup,net,web3,debug\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("RPC_CORS_DOMAIN")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("*\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("RPC_ENABLE")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("true\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("RPC_PORT")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("8545")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("RPC_VHOSTS")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("*\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("TARGET_GAS_LIMIT")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("15000000")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("USING_OVM")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("true\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("WS_ADDR")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("0.0")]),e._v(".0.0\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("WS_API")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("eth,rollup,net,web3,debug\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("WS_ORIGINS")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("*\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("WS")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("true\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("ROLLUP_BACKEND")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("l2    \n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br"),s("span",{staticClass:"line-number"},[e._v("14")]),s("br"),s("span",{staticClass:"line-number"},[e._v("15")]),s("br"),s("span",{staticClass:"line-number"},[e._v("16")]),s("br"),s("span",{staticClass:"line-number"},[e._v("17")]),s("br"),s("span",{staticClass:"line-number"},[e._v("18")]),s("br"),s("span",{staticClass:"line-number"},[e._v("19")]),s("br"),s("span",{staticClass:"line-number"},[e._v("20")]),s("br"),s("span",{staticClass:"line-number"},[e._v("21")]),s("br"),s("span",{staticClass:"line-number"},[e._v("22")]),s("br"),s("span",{staticClass:"line-number"},[e._v("23")]),s("br"),s("span",{staticClass:"line-number"},[e._v("24")]),s("br"),s("span",{staticClass:"line-number"},[e._v("25")]),s("br"),s("span",{staticClass:"line-number"},[e._v("26")]),s("br"),s("span",{staticClass:"line-number"},[e._v("27")]),s("br"),s("span",{staticClass:"line-number"},[e._v("28")]),s("br"),s("span",{staticClass:"line-number"},[e._v("29")]),s("br"),s("span",{staticClass:"line-number"},[e._v("30")]),s("br"),s("span",{staticClass:"line-number"},[e._v("31")]),s("br"),s("span",{staticClass:"line-number"},[e._v("32")]),s("br"),s("span",{staticClass:"line-number"},[e._v("33")]),s("br"),s("span",{staticClass:"line-number"},[e._v("34")]),s("br")])]),s("p",[s("strong",[e._v("Note")]),e._v(": If synchronizing from L1, replace the last line with")]),e._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("ROLLUP_BACKEND")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("l1    \n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])])]),e._v(" "),s("li",[s("p",[e._v("Run the new file.\nThis syntax (dot, space, and then the name of the script) runs the script in the context of the current shell, rather than in a new shell.\nThe reason for doing this is that we want to modify the current shell's environment variables, not start a new shell, set up the environment in it, and then exit.")]),e._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(".")]),e._v(" env.sh\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])])]),e._v(" "),s("li",[s("p",[e._v("Initialize l2geth with the genesis state.\nThis process takes about nine minutes on my system.")]),e._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" ~/gethData\n./build/bin/geth init "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--datadir")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$DATADIR")]),e._v(" /tmp/genesis.json "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--nousb")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br")])])]),e._v(" "),s("li",[s("p",[e._v("Create the geth account.\nThe private key needs to be the one specified in the configuration, otherwise the consensus algorithm fails and the node does not synchronize.")]),e._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("touch")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$DATADIR")]),e._v("/password\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("echo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$BLOCK_SIGNER_PRIVATE_KEY")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$DATADIR")]),e._v("/block-signer-key\n./build/bin/geth account "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("import")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--datadir")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$DATADIR")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--password")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$DATADIR")]),e._v("/password "),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$DATADIR")]),e._v("/block-signer-key\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br")])])]),e._v(" "),s("li",[s("p",[e._v("Start geth (logging to "),s("code",[e._v("~/geth.log")]),e._v(").")]),e._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("nohup")]),e._v(" build/bin/geth "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n   "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--datadir")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$DATADIR")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n   "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--password")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$DATADIR")]),e._v("/password "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n   --allow-insecure-unlock "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n   "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--unlock")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$BLOCK_SIGNER_ADDRESS")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n   "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--mine")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n   "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--miner.etherbase")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$BLOCK_SIGNER_ADDRESS")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" ~/geth.log "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br")])]),s("p",[e._v("It is possible that "),s("code",[e._v("geth")]),e._v(" won't listen to IPC or the TCP port (8545) until it finishes the initial synchronization.")])]),e._v(" "),s("li",[s("p",[e._v("To check if l2geth is running correctly, open another command line window and run these commands:")]),e._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" ~/optimism/l2geth\nbuild/bin/geth attach "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--datadir")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=~")]),e._v("/gethData \neth.blockNumber\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br")])]),s("p",[e._v("Wait a few seconds and then look at the blocknumber again and exit:")]),e._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[e._v("eth.blockNumber\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("exit")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br")])]),s("p",[e._v("If l2geth is synchronizing, the second block number is higher than the first.")])]),e._v(" "),s("li",[s("p",[e._v("Wait a few hours until the entire history is downloaded by dtl and then propagated to l2geth.\nIf you have any problems, "),s("a",{attrs:{href:"https://discord-gateway.optimism.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("contact us on our Discord"),s("OutboundLink")],1),e._v(".")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);