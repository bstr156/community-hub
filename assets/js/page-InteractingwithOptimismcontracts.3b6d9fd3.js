(window.webpackJsonp=window.webpackJsonp||[]).push([[144],{789:function(t,s,e){"use strict";e.r(s);var a=e(2),n=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("Optimism is composed, in part, of a series of smart contracts on both L1 (Ethereum) and L2 (Optimism).\nYou may want to interact with these contracts for any number of reasons, including:")]),t._v(" "),s("ul",[s("li",[t._v("Sending messages between L1 and L2")]),t._v(" "),s("li",[t._v("Sending tokens between L1 and L2")]),t._v(" "),s("li",[t._v("Querying information about the current "),s("RouterLink",{attrs:{to:"/docs/rollux-developers/build/transaction-fees.html#the-l1-data-fee"}},[t._v("L1 data fee")])],1),t._v(" "),s("li",[t._v("And lots more!")])]),t._v(" "),s("p",[t._v("On this page we'll show you how to work with these contracts directly from other contracts and how to work with them from the client side.")]),t._v(" "),s("h2",{attrs:{id:"finding-contract-addresses"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#finding-contract-addresses"}},[t._v("#")]),t._v(" Finding contract addresses")]),t._v(" "),s("p",[t._v("You'll need to find the address of the particular contract that you want to interact with before you can actually interact with it.\nCheck out the "),s("RouterLink",{attrs:{to:"/docs/useful-tools/networks.html"}},[t._v("Networks and Connection Details page")]),t._v(" for links to the contract addresses for each network.\nYou can also find the addresses for all networks in the "),s("a",{attrs:{href:"https://github.com/ethereum-optimism/optimism/tree/master/packages/contracts/deployments",target:"_blank",rel:"noopener noreferrer"}},[t._v("deployments folder"),s("OutboundLink")],1),t._v(" of the "),s("a",{attrs:{href:"https://github.com/ethereum-optimism/optimism/tree/master/packages/contracts",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("contracts")]),t._v(" package"),s("OutboundLink")],1),t._v(".")],1),t._v(" "),s("h2",{attrs:{id:"interacting-from-another-contract"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#interacting-from-another-contract"}},[t._v("#")]),t._v(" Interacting from another contract")]),t._v(" "),s("p",[t._v("All you need to interact with the Optimism system contracts from another contract is an address and an interface.\nYou can follow "),s("a",{attrs:{href:"#finding-contract-addresses"}},[t._v("the instructions above")]),t._v(" to find the address of the contract you want to interact with.\nNow you simply need to import the appropriate contracts.")]),t._v(" "),s("h3",{attrs:{id:"installing-via-npm-or-yarn"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#installing-via-npm-or-yarn"}},[t._v("#")]),t._v(" Installing via NPM or Yarn")]),t._v(" "),s("p",[t._v("We export a package "),s("a",{attrs:{href:"https://www.npmjs.com/package/@eth-optimism/contracts?activeTab=readme",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("@eth-optimism/contracts")]),s("OutboundLink")],1),t._v(" that makes it easy to use the Optimism contracts within NPM or Yarn based projects.\nInstall the package as follows:")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("npm install @eth-optimism/contracts\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h3",{attrs:{id:"importing-contracts"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#importing-contracts"}},[t._v("#")]),t._v(" Importing contracts")]),t._v(" "),s("p",[t._v("Simply import the desired contract or interface from the "),s("code",[t._v("@eth-optimism/contracts")]),t._v(" package:")]),t._v(" "),s("div",{staticClass:"language-solidity line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-solidity"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" SomeOptimismContract "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@eth-optimism/contracts/path/to/SomeOptimismContract.sol"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("Please note that "),s("code",[t._v("path/to/SomeOptimismContract")]),t._v(" is the path to the contract "),s("a",{attrs:{href:"https://github.com/ethereum-optimism/optimism/tree/develop/packages/contracts/contracts",target:"_blank",rel:"noopener noreferrer"}},[t._v("within this folder"),s("OutboundLink")],1),t._v(".\nFor example, if you wanted to import the "),s("a",{attrs:{href:"https://github.com/ethereum-optimism/optimism/blob/develop/packages/contracts/contracts/L1/messaging/L1CrossDomainMessenger.sol",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("L1CrossDomainMessenger")]),s("OutboundLink")],1),t._v(" contract, you would use the following import:")]),t._v(" "),s("div",{staticClass:"language-solidity line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-solidity"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" L1CrossDomainMessenger "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@eth-optimism/contracts/L1/messaging/L1CrossDomainMessenger.sol"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h3",{attrs:{id:"getting-l2-contract-addresses"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#getting-l2-contract-addresses"}},[t._v("#")]),t._v(" Getting L2 contract addresses")]),t._v(" "),s("p",[t._v("Addresses of system contracts on the L2 side of the network are the same on every network.\nWe provide these addresses as constants within the "),s("a",{attrs:{href:"https://github.com/ethereum-optimism/optimism/blob/develop/packages/contracts/contracts/libraries/constants/Lib_PredeployAddresses.sol",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("Lib_PredeployAddresses")]),s("OutboundLink")],1),t._v(" contract.")]),t._v(" "),s("h2",{attrs:{id:"interacting-from-the-client-side"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#interacting-from-the-client-side"}},[t._v("#")]),t._v(" Interacting from the client side")]),t._v(" "),s("p",[t._v("Just like when interacting from another contract, we've created a few packages that make it easy to interact with the Optimism system contracts from the client side.")]),t._v(" "),s("h3",{attrs:{id:"installing-via-npm-or-yarn-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#installing-via-npm-or-yarn-2"}},[t._v("#")]),t._v(" Installing via NPM or Yarn")]),t._v(" "),s("p",[t._v("You can use the "),s("a",{attrs:{href:"https://www.npmjs.com/package/@eth-optimism/contracts?activeTab=readme",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("@eth-optimism/contracts")]),s("OutboundLink")],1),t._v(" package to interact with the Optimism system contracts from a JavaScript or TypeScript based project.\nInstall the package as follows:")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("npm install @eth-optimism/contracts\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h3",{attrs:{id:"getting-contract-artifacts-interfaces-and-abis"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#getting-contract-artifacts-interfaces-and-abis"}},[t._v("#")]),t._v(" Getting contract artifacts, interfaces, and ABIs")]),t._v(" "),s("p",[t._v("You can get the compiler artifact, bytecode, and ABI for any Optimism contract as follows:")]),t._v(" "),s("div",{staticClass:"language-ts line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" getContractDefinition "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@eth-optimism/contracts'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" artifact "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getContractDefinition")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'SomeOptimismContract'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" abi "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" artifact"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("abi\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" bytecode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" artifact"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bytecode\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" deployedBytecode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" artifact"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deployedBytecode\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("p",[t._v("Similarly, you can also get "),s("a",{attrs:{href:"https://docs.ethers.io/v5/api/utils/abi/interface/",target:"_blank",rel:"noopener noreferrer"}},[t._v("ethers Interface objects"),s("OutboundLink")],1),t._v(" for any contract:")]),t._v(" "),s("div",{staticClass:"language-ts line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" getContractInterface "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@eth-optimism/contracts'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" iface "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getContractInterface")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'SomeOptimismContract'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("h3",{attrs:{id:"getting-l2-contract-addresses-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#getting-l2-contract-addresses-2"}},[t._v("#")]),t._v(" Getting L2 contract addresses")]),t._v(" "),s("p",[t._v("You can get the address of any L2 contract as follows:")]),t._v(" "),s("div",{staticClass:"language-ts line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" predeploys "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@eth-optimism/contracts'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" address "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" predeploys"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CONTRACT_NAME_GOES_HERE")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])])])}),[],!1,null,null,null);s.default=n.exports}}]);